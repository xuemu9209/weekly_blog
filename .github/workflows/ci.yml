name: Deploy

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    name: A job to deploy blog.
    steps:
    - name: Checkout
      uses: actions/checkout@v1
      with:
        submodules: true # Checkout private submodules(themes or something else).
    
    # Caching dependencies to speed up workflows. (GitHub will remove any cache entries that have not been accessed in over 7 days.)
    - name: Cache node modules
      uses: actions/cache@v1
      id: cache
      with:
        path: node_modules
        key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
        restore-keys: |
          ${{ runner.os }}-node-
    - name: Install Dependencies
      if: steps.cache.outputs.cache-hit != 'true'
      run: npm ci
    
    # Deploy hexo blog website.
    - name: Deploy
      id: deploy
      uses: sma11black/hexo-action@v1.0.3
      with:
        deploy_key: "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"
        #user_name: your github username  # (or delete this input setting to use bot account)
        #user_email: your github useremail  # (or delete this input setting to use bot account)
        #commit_msg: ${{ github.event.head_commit.message }}  # (or delete this input setting to use hexo default settings)
    # Use the output from the `deploy` step(use for test action)
    - name: Get the output
      run: |
        echo "${{ steps.deploy.outputs.notify }}"